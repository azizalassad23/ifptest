<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYNTAX // GAP</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <style>
        :root { --bg: #09090b; --orange: #ff9f43; }
        body { font-family: 'JetBrains Mono', monospace; background: var(--bg); color: #fff; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 20px; }
        .home-btn { position: fixed; top: 20px; left: 20px; background: #09090b; color: #fff; border: 1px solid #333; padding: 12px 20px; border-radius: 8px; text-decoration: none; font-weight: 800; display: flex; gap: 10px; transition: 0.3s; z-index: 99; }
        .home-btn:hover { border-color: var(--orange); color: var(--orange); }
        .header { margin-top: 60px; margin-bottom: 30px; border-bottom: 2px solid var(--orange); padding-bottom: 10px; width: 100%; max-width: 700px; text-align: center; }
        h1 { margin: 0; color: var(--orange); }
        .code-area { background: #1e1e1e; padding: 30px; border-radius: 12px; font-size: 1.5rem; line-height: 2.5rem; width: 100%; max-width: 700px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-bottom: 40px; }
        .drop-zone { display: inline-block; width: 120px; height: 40px; background: #333; border: 2px dashed #666; vertical-align: middle; border-radius: 6px; margin: 0 5px; text-align: center; color: var(--orange); }
        .options-area { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; background: #18181b; padding: 20px; border-radius: 12px; border: 1px solid #333; }
        .draggable-item { background: var(--orange); color: #000; padding: 10px 20px; border-radius: 6px; font-weight: bold; cursor: grab; font-size: 1.2rem; }
        #checkBtn { margin-top: 30px; background: transparent; border: 2px solid var(--orange); color: var(--orange); padding: 15px 50px; font-size: 1.2rem; cursor: pointer; border-radius: 50px; font-weight: bold; transition: 0.3s; }
        #checkBtn:hover { background: var(--orange); color: #000; }
        #result { margin-top: 20px; font-size: 1.2rem; font-weight: bold; height: 30px; text-align: center; }
        #progress { color: #888; font-size: 0.9rem; margin-bottom: 10px; }
    </style>
</head>
<body>
    <a href="index.html" class="home-btn"><span>üè†</span> HUB</a>
    <div class="header"><h1>SYNTAX_GAP</h1></div>
    <div id="progress">LOADING...</div>
    <p>SERET KEYWORD YANG TEPAT KE DALAM KODE</p>

    <div class="code-area" id="codeContainer">
        <span id="q-part1"></span> 
        <div id="target1" class="drop-zone"></div> 
        <span id="q-part2"></span>
    </div>

    <div id="source" class="options-area"></div>

    <button id="checkBtn" onclick="checkAnswer()">CHECK SYNTAX</button>
    <div id="result"></div>
    <button id="nextBtn" style="display:none; margin-top:10px; background:#333; color:#fff; border:none; padding:10px 20px; cursor:pointer;" onclick="nextQuestion()">NEXT >></button>
    <button id="restartBtn" style="display:none; margin-top:20px; background:var(--orange); color:#000; border:none; padding:15px 30px; cursor:pointer; font-weight:bold; border-radius:50px;" onclick="initGame()">MAIN LAGI (SOAL BARU)</button>

    <script>
        // --- BANK SOAL (DIPERLUAS) ---
        const allLevelsBank = [
            { textPre: "umur = 17<br>", textPost: " umur >= 17:<br>&nbsp;&nbsp;print('KTP')", answer: "if", options: ["if", "for", "else", "def"] },
            { textPre: "murid = ['Ali', 'Budi']<br>", textPost: " x in murid:<br>&nbsp;&nbsp;print(x)", answer: "for", options: ["while", "if", "for", "class"] },
            { textPre: "for i ", textPost: " range(5):<br>&nbsp;&nbsp;print(i)", answer: "in", options: ["in", "on", "at", "to"] },
            { textPre: "x = 10<br>if x > 5:<br>&nbsp;&nbsp;print('Besar')<br>", textPost: ":<br>&nbsp;&nbsp;print('Kecil')", answer: "else", options: ["elif", "else", "stop", "then"] },
            { textPre: "def sapa():<br>&nbsp;&nbsp;", textPost: " 'Halo!'", answer: "return", options: ["return", "print", "send", "back"] },
            { textPre: "", textPost: " hitung_luas(p, l):<br>&nbsp;&nbsp;return p * l", answer: "def", options: ["def", "func", "void", "class"] },
            { textPre: "i = 0<br>", textPost: " i < 5:<br>&nbsp;&nbsp;print(i)<br>&nbsp;&nbsp;i += 1", answer: "while", options: ["for", "while", "if", "loop"] },
            { textPre: "import math<br>print(", textPost: ".pi)", answer: "math", options: ["math", "pi", "calc", "sys"] },
            { textPre: "x = 10<br>if x > 20:<br>&nbsp;&nbsp;print('A')<br>", textPost: " x > 5:<br>&nbsp;&nbsp;print('B')", answer: "elif", options: ["else", "elif", "if", "then"] },
            { textPre: "data = [1, 2]<br>data.", textPost: "(3)<br># data jadi [1, 2, 3]", answer: "append", options: ["add", "push", "append", "insert"] },
            { textPre: "status = ", textPost: "<br>if status:<br>&nbsp;&nbsp;print('Jalan')", answer: "True", options: ["True", "Yes", "On", "1"] },
            { textPre: "for x in range(10):<br>&nbsp;&nbsp;if x == 5:<br>&nbsp;&nbsp;&nbsp;&nbsp;", textPost: "", answer: "break", options: ["break", "stop", "exit", "end"] },
            { textPre: "try:<br>&nbsp;&nbsp;print(x)<br>", textPost: ":<br>&nbsp;&nbsp;print('Error')", answer: "except", options: ["catch", "except", "else", "error"] },
            { textPre: "nama = input('Siapa nama Anda? ')<br>print('Halo ' ", textPost: " nama)", answer: "+", options: ["+", ",", "&", "-"] }
        ];

        let currentLevels = [];
        let currentLevelIdx = 0;

        function initGame() {
            // Randomly select 5 questions
            currentLevels = [...allLevelsBank].sort(() => Math.random() - 0.5).slice(0, 5);
            currentLevelIdx = 0;
            
            document.getElementById('restartBtn').style.display = "none";
            document.getElementById('checkBtn').style.display = "inline-block";
            loadLevel();
        }

        function loadLevel() {
            const data = currentLevels[currentLevelIdx];
            document.getElementById('progress').innerText = `SOAL ${currentLevelIdx + 1} / 5`;
            
            // Reset UI
            document.getElementById('result').innerText = "";
            document.getElementById('nextBtn').style.display = "none";
            document.getElementById('target1').innerHTML = ""; 
            document.getElementById('checkBtn').style.display = "inline-block";

            // Set Soal
            document.getElementById('q-part1').innerHTML = data.textPre;
            document.getElementById('q-part2').innerHTML = data.textPost;

            // Set Pilihan (Acak)
            const src = document.getElementById('source');
            src.innerHTML = "";
            let opts = [...data.options].sort(() => Math.random() - 0.5);
            
            opts.forEach(opt => {
                let div = document.createElement('div');
                div.className = 'draggable-item';
                div.innerText = opt;
                src.appendChild(div);
            });

            new Sortable(document.getElementById('source'), { group: 'shared', animation: 150 });
            new Sortable(document.getElementById('target1'), { group: 'shared', animation: 150, max: 1 });
        }

        function checkAnswer() {
            const target = document.getElementById('target1');
            const item = target.querySelector('.draggable-item');
            const result = document.getElementById('result');

            if (!item) {
                result.innerHTML = "<span style='color:#ff5555'>‚ö†Ô∏è KOSONG! Isi dulu bagian yang hilang.</span>";
                return;
            }

            if (item.innerText === currentLevels[currentLevelIdx].answer) {
                result.innerHTML = "<span style='color:#00ff9d'>‚úÖ SYNTAX CORRECT!</span>";
                document.getElementById('checkBtn').style.display = "none";
                
                if (currentLevelIdx < currentLevels.length - 1) {
                    document.getElementById('nextBtn').style.display = "inline-block";
                } else {
                    result.innerHTML += "<br>üéâ SESI SELESAI!";
                    document.getElementById('restartBtn').style.display = "inline-block";
                }
            } else {
                result.innerHTML = "<span style='color:#ff0055'>‚ùå SYNTAX ERROR. Coba kata kunci lain.</span>";
            }
        }

        function nextQuestion() {
            currentLevelIdx++;
            loadLevel();
        }

        initGame();
    </script>
</body>
</html>
